{"version":3,"sources":["../node_modules/text-balancer/text-balancer.js","../package.json","../data/doc.json","scripts/config.js","../node_modules/intersection-observer/intersection-observer.js","../node_modules/scrollama/build/scrollama.js","scripts/map.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/bundle-loader.js","scripts/page.js","scripts/utils.js","script.js","../node_modules/parcel-bundler/src/builtins/loaders/browser/js-loader.js"],"names":["module","exports","name","version","private","scripts","start","build","postinstall","devDependencies","cssnano","eslint","sass","dependencies","mapbox","scrollama","browserslist","prettier","singleQuote","trailingComma","arrowParens","spectate","USE_NEWS_NAV","USE_EYE_NAV","USE_COVER_HED","IS_EMBED","DOC_URL","headline","date","byline","top","type","value","asset","steps","body","width","caption","credit","config","style","accessToken","showMarkers","markerColor","theme","use3dTerrain","chapters","id","alignment","hidden","description","location","center","zoom","pitch","bearing","mapAnimation","rotateAnimation","callback","onChapterEnter","onChapterExit","Doc","forEach","element","index","console","log","layerTypes","alignments","setLayerOpacity","layer","getLayerPaintType","layerType","map","getLayer","prop","options","duration","transitionProp","setPaintProperty","opacity","story","document","getElementById","features","createElement","setAttribute","header","title","titleText","innerText","appendChild","subtitle","subtitleText","length","classList","add","record","idx","container","chapter","image","Image","src","innerHTML","footer","footerText","mapboxgl","transformRequest","Map","interactive","url","hasQuery","indexOf","marker","Marker","color","setLngLat","addTo","scroller","places","on","addSource","setTerrain","addLayer","layers","labelLayerId","getStyle","i","layout","setup","step","offset","progress","onStepEnter","response","find","chap","window","once","rotateNumber","getBearing","rotateTo","easing","t","onStepExit","remove","addEventListener","resize","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","replace","require","loadBundlesLazy","bundles","Array","isArray","Promise","resolve","code","LazyPromise","reject","loadBundles","slice","then","all","loadBundle","bundleLoaders","registerBundleLoader","loader","load","register","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","catch","e","executor","promise","prototype","onSuccess","onError","init","querySelector","p","default","SECTION_MAIN_SELECTOR","ARTICLE_SELECTOR","COMMENTS_SELECTOR","hoistArticle","sectionMain","article","comments","parentNode","replaceChild","insertBefore","nextSibling","suspectParagraph","firstElementChild","children","some","el","includes","tagName","margin","TRY_TIME","prepareHoist","timestamp","requestAnimationFrame","onload","isOnSpectatorPage","host","isOnContributorPage","pathname","IntersectionObserverEntry","spectateConfig","querySelectorAll","link","disabled","styleSheet","head","intersectTop","node","onEnter","onExit","IntersectionObserver","entry","isIntersecting","boundingClientRect","innerHeight","threshold","observe","navbar","hamburgerTrigger","toggle","innerWidth","balanceText","script","async","charset","onerror","getElementsByTagName"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"../src","sourcesContent":["var candidates = [];\n\n// pass in a string of selectors to be balanced.\n// if you didnt specify any, thats ok! We'll just\n// balance anything with the balance-text class\nvar textBalancer = function (selectors) {\n\n    if (!selectors) {\n        candidates = document.querySelectorAll('.balance-text');\n    } else {\n        createSelectors(selectors);\n    }\n\n    balanceText();\n\n    var rebalanceText = debounce(function() {\n        balanceText();\n    }, 100);\n\n    window.addEventListener('resize', rebalanceText);\n}\n\n// this populates our candidates array with dom objects\n// that need to be balanced\nvar createSelectors = function(selectors) {\n    selectorArray = selectors.split(',');\n    for (var i = 0; i < selectorArray.length; i += 1) {\n        var currentSelectorElements = document.querySelectorAll(selectorArray[i].trim());\n\n        for (var j = 0; j < currentSelectorElements.length; j += 1) {\n            var currentSelectorElement = currentSelectorElements[j];\n            candidates.push(currentSelectorElement);\n        }\n    }\n}\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nvar debounce = function (func, wait, immediate) {\n    var timeout;\n    return function() {\n        var context = this, args = arguments;\n        var later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n};\n\n\n// HELPER FUNCTION -- initializes recursive binary search\nvar balanceText = function () {\n    var element;\n    var i;\n\n    for (i = 0; i < candidates.length; i += 1) {\n        element = candidates[i];\n\n        if (textElementIsMultipleLines(element)) {\n            element.style.maxWidth = '';\n            squeezeContainer(element, element.clientHeight, 0, element.clientWidth);\n        }\n\n    }\n\n}\n\n// Make the element as narrow as possible while maintaining its current height (number of lines). Binary search.\nvar squeezeContainer = function (element, originalHeight, bottomRange, topRange) {\n    var mid;\n    if (bottomRange >= topRange) {\n        element.style.maxWidth = topRange + 'px';\n        return;\n    }\n    mid = (bottomRange + topRange) / 2;\n    element.style.maxWidth = mid + 'px';\n\n    if (element.clientHeight > originalHeight) {\n        // we've squoze too far and element has spilled onto an additional line; recurse on wider range\n        squeezeContainer(element, originalHeight, mid+1, topRange);\n    } else {\n        // element has not wrapped to another line; keep squeezing!\n        squeezeContainer(element, originalHeight, bottomRange+1, mid);\n    }\n}\n\n// function to see if a headline is multiple lines\n// we only want to break if the headline is multiple lines\n//\n// We achieve this by turning the first word into a span\n// and then we compare the height of that span to the height\n// of the entire headline. If the headline is bigger than the\n// span by 10px we balance the headline.\nvar textElementIsMultipleLines = function (element) {\n    var firstWordHeight;\n    var elementHeight;\n    var HEIGHT_OFFSET;\n    var elementWords;\n    var firstWord;\n    var ORIGINAL_ELEMENT_TEXT;\n\n    ORIGINAL_ELEMENT_TEXT = element.innerHTML;\n\n    // usually there is around a 5px discrepency between\n    // the first word and the height of the whole headline\n    // so subtract the height of the headline by 10 px and\n    // we should be good\n    HEIGHT_OFFSET = 10;\n\n    // get all the words in the headline as\n    // an array -- will include punctuation\n    //\n    // this is used to put the headline back together\n    elementWords = element.innerHTML.split(' ');\n\n    // make span for first word and give it an id\n    // so we can access it in le dom\n    firstWord = document.createElement('span');\n    firstWord.id = 'element-first-word';\n    firstWord.innerHTML = elementWords[0];\n\n    // this is the entire headline\n    // as an array except for first word\n    //\n    // we will append it to the headline after the span\n    elementWords = elementWords.slice(1);\n\n    // empty the headline and append the span to it\n    element.innerHTML = '';\n    element.appendChild(firstWord);\n\n    // add the rest of the element back to it\n    element.innerHTML += ' ' + elementWords.join(' ');\n\n    // update the first word variable in the dom\n    firstWord = document.getElementById('element-first-word');\n\n    firstWordHeight = firstWord.offsetHeight;\n    elementHeight = element.offsetHeight;\n    // restore the original element text\n    element.innerHTML = ORIGINAL_ELEMENT_TEXT;\n\n    // compare the height of the element and the height of the first word\n    return elementHeight - HEIGHT_OFFSET > firstWordHeight;\n\n} // end headlineIsMultipleLines\n\nexports.balanceText = textBalancer;","module.exports={name:\"harlem-restaurants\",version:\"0.0.0\",private:!0,scripts:{start:\"parcel src/index.html --global script\",build:\"parcel build src/index.html --global script --public-url . --no-content-hash\",postinstall:\"patch-package\"},devDependencies:{cssnano:\"^4.1.10\",eslint:\"^7.0.0\",\"parcel-bundler\":\"^1.12.4\",\"patch-package\":\"^6.2.2\",\"posthtml-expressions\":\"^1.4.0\",\"posthtml-include\":\"^1.4.3\",sass:\"^1.26.5\"},dependencies:{\"intersection-observer\":\"^0.10.0\",mapbox:\"^1.0.0-beta10\",\"mapbox-gl\":\"^2.1.1\",scrollama:\"^2.2.1\",\"text-balancer\":\"^1.0.5\"},browserslist:[\"defaults\"],prettier:{singleQuote:!0,trailingComma:\"all\",arrowParens:\"avoid\"},spectate:{USE_NEWS_NAV:!0,USE_EYE_NAV:!1,USE_COVER_HED:!1,IS_EMBED:!1,DOC_URL:\"https://docs.google.com/document/d/1oVU2Ae1HDS_H6j8iiLFEejau_oqXFBe8hnSIpe2nMjI/edit#\"}};","module.exports={headline:\"From baby carriage food carts to fusion soul food spots: A look into Harlem’s complex restaurant scene\",date:\"February 18, 2021\",byline:'By <a href=\"https://www.columbiaspectator.com/contributors/Noah-Sheidlower/\">Noah Sheidlower</a>',top:[{type:\"graphic\",value:{asset:\"food-map.html\",steps:[\"This is Harlem, one of the city’s most diverse neighborhoods and an epicenter for Black foodways in the Northeast. From Ethiopian to Senegalese to Jamaican, Harlem’s food scene is informed by its rich culinary history.\",\"Sylvia’s Restaurant, “The Queen of Soul Food,” was founded in 1962 by Sylvia Woods, serving soul food classics to the Harlem community like fried chicken and barbecue ribs. This iconic restaurant has attracted figures like Barack Obama, Nelson Mandela, Bill Clinton, Whoopi Goldberg, and countless other celebrities.\",\"Founded in 1998, Amy Ruth’s helped expand the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. The institution takes its name from the founders’ grandmother Amy Ruth Moore Bass, a native Alabamian and mother of 10 children who “taught all of her children and grandchildren how to love each other, to look out for one another, and to respect themselves as well as others.”\",\"Melba’s, opened by Harlem native Melba Wilson in 2005, helped keep Harlem’s soul food traditions alive through options like Southern chicken and fusion dishes like soul food spring rolls. After working at Sylvia’s, Wilson decided to apply her business knowledge to a more contemporary spot. Wilson now leads the NYC Hospitality Alliance.\",\"Celebrity chef Marcus Samuelsson, alongside Andrew Chapman, opened Red Rooster to celebrate the culinary traditions of Harlem’s diverse cultures. The restaurant takes its name from the legendary Harlem speakeasy that attracted figures like James Baldwin and Nat King Cole.\",\"The Cotton Club, originally located on 142nd Street and Lenox Avenue, was one of the most popular venues for Black entertainers of the 1920s and 1930s, from Duke Ellington to Louis Armstrong to Billie Holliday. The Cotton Club also served soul food classics like fried chicken with candied yams, American bistro fare, and even a number of Chinese-American dishes.\",\"Seasoned Vegan is one of Harlem’s first vegan soul food spots, owned by Chef Brenda Beener. Recently, vegan soul food has gained popularity as a healthier alternative to the hearty classics, and Seasoned Vegan has been at the forefront serving dishes like barbecue soy “crawfish” and baked mac & cheese.\",\"Tsion Cafe is one of the city’s only Ethiopian-Israeli restaurants, owned by Beta Israel member Beejhy Barhany. Dishes like Israeli shakshuka take an Ethiopian twist with berbere spices, while their lamb goulash incorporates traditional slow-cooked Ethiopian lamb with Middle Eastern and Central European influences.\",\"Also at the forefront of culinary fusion, Harlem newcomer Archer & Goat serves inventive dishes from countries like Ecuador, Puerto Rico, and Bangladesh. Dishes found nowhere else in the city include chicken vindaloo arepas and lamb Rogan Josh with pappardelle and avocado vinaigrette.\",\"Harlem’s small cultural enclave of Little Senegal began to develop in the late 1980s and continues to be a vibrant community for West African immigrants in West Harlem. Notable restaurants serving the hard-to-find cuisine include Pikine and Le Baobab Gouygui, and the area also features one of the city’s only Somalian restaurants, Safari.\",\"The Schomburg Center, a branch of the New York Public Library, is a leading research library and archive repository for Black culture and history globally. The center features a large Harlem takeout menu collection dating back over a century, as well as historic cookbooks and letters by Harlem chefs. The center’s namesake, Arturo Schomburg, also wrote an unfinished cookbook that has recently been unearthed.\"]}}],body:[{type:\"image\",value:{width:\"auto\",asset:\"https://cloudfront-us-east-1.images.arcpublishing.com/spectator/RMHTSN45KVEQVNJJ5MS76VDNBY.png\",caption:\"From soul food to Ethiopian cuisine to Senegalese dishes, Harlem’s food scene captures the complexities of Harlem’s rich culinary history, which blossomed starting with the Harlem Renaissance.\",credit:\"Jules Michaud\"}},{type:\"text\",value:\"The flaky fish and tomato rice of Senegalese restaurant Le Baobab Gouygui’s thiebou djeun. The sweetness and fluffiness of Tsion Cafe’s spin on the Yemeni pastry malawach. The spicy and tangy bisbaas hot sauce in Safari Restaurant’s Somali goat dish, hilib ari. The golden-brown fried chicken paired with eggnog waffles at Melba’s.\"},{type:\"text\",value:\"This is Harlem, one of New York City’s most diverse neighborhoods and an epicenter for Black foodways in the Northeast informed by its rich culinary history.\"},{type:\"text\",value:\"According to Valerie Wilson, founder of ValincPR which works closely with Harlem programs like Harlem Park to Park, Harlem has evolved to have a wide variety of international fare, from Indian to Italian to West African. “[Harlem] really is a wonderful snapshot of all of the cultures that make up our city,” Wilson said.\"},{type:\"text\",value:\"Jenifar Chowdhury, who co-owns Ecuadorian-Puerto Rican-Bangladeshi fusion spot Archer & Goat, noted that Harlem “exploded” over the last decade in terms of new restaurants and culinary innovations.\"},{type:\"text\",value:\"“When I first moved here, Red Rooster hadn't even opened yet, and I think Red Rooster kind of helped usher in a new age of restaurants in Harlem … [with] a huge array of cultures being represented among restaurants here,” Chowdhury said. “We just found it to be an exciting time to kind of contribute to this kind of boom that’s been happening in Harlem the last decade or so.”\"},{type:\"text\",value:\"Tsion Cafe, an Ethiopian-Israeli restaurant in Harlem’s Sugar Hill neighborhood, has also contributed to Harlem’s culinary fusion, crafting a menu that pays homage to owner Beejhy Barhany’s identity as part of the Beta Israel community. “It’s a very exciting time for diversity, uniqueness, and inclusion for people to really open their horizon and open their mind and interact and learn about the different ethnic groups that are in Harlem,” Barhany said. “The best tool to open people's hearts is through food: It’s very simple. Everybody loves to eat, and when you experience and try out our ethnic foods, you are more receptive to respecting, learning about them, and understanding them, and that can lead to a very harmonious way of interaction with the different, unique restaurants and ethnic groups that are here.”\"},{type:\"text\",value:\"However, when Harlem first began to develop as a center for Black culture over a century ago, it was much harder for Black chefs to open up businesses and make a name for themselves.\"},{type:\"text\",value:\"<b>The Great Migration and Harlem Renaissance</b>\"},{type:\"text\",value:\"The Harlem we know today as one of the city’s most diverse communities developed during the Great Migration, the early 20th-century movement of Black people to Northern industrial cities for better economic opportunities and to escape increasing threats of violence and persecution in the South. Along with this mass migration came the beginnings of Black culinary traditions in the North.\"},{type:\"text\",value:\"“Harlem is a product of the Great Migration, Black Harlem essentially, because it really comes into being at around the same time with the turnover from the Dutch and European, who were originally there, into the African Americans,” Jessica B. Harris, James Beard Award-winning author and culinary historian, said.\"},{type:\"text\",value:\"Although the term “soul food” was coined in the 1940s, soul food’s roots date back to the pre-Civil War era. Soul food originated in the Deep South and drew influence from Native American cuisine, and began using foods given to enslaved African Americans on plantations.\"},{type:\"text\",value:\"According to Adrian Miller, James Beard Award-winning author and self-proclaimed “Soul Food Scholar,” white slaveholders tried to control how much food and what types of foods enslaved people could eat. Common foods included collard greens, beets, and sweet potatoes. However, in order to work long hours on plantations, enslaved people needed to consume high-calorie foods, so they were also allotted rations of cornmeal and pork that would later be incorporated into dishes like cornbread, fried catfish, and ribs.\"},{type:\"text\",value:\"“Part of the soul food story is how African Americans resisted those efforts in how they showed resilience and ingenuity in terms of gardening, farming, hunting, foraging, and fishing to supplement their diet,” Miller said.\"},{type:\"text\",value:\"Before the turn of the 20th century, soul food began to reach northern cities. According to Harris, Black New Yorkers began to move uptown in this period from areas like the Tenderloin district and present-day Greenwich Village. The movement to streets like Lenox Avenue was met with resistance and eventual flight from white residents, leaving Harlem vacant for Black tenants.\"},{type:\"text\",value:\"“When migrants showed up in places like New York City, they often didn’t have a kitchen. I mean they were basically in tenement apartments, slums, where [there was] a very very basic setup, and you had to pay extra money to have access to a kitchen,” Miller said. “So I think because of that, a lot of people that moved to Harlem kind of relied on dining out, street food, and other things.”\"},{type:\"text\",value:\"Miller noted that soul food arrived in waves to Harlem, in part due to racially-restrictive covenants and high rents that made owning a storefront particularly challenging. In her book “High on the Hog,” Harris describes Harlem apartments as “hastily subdivided with flimsy walls and narrow hallways” with higher prices than those in other neighborhoods.\"},{type:\"text\",value:\"“The first kind of iterations of soul food were street vendors who were selling things that people just couldn't get on the regular, like watermelons, okra, Southern greens, all of these things so that these newly arrived migrants could say, ‘Oh okay, that’s a little taste of home,’” Miller said. “And then another important wave were restaurants. Some of them were very rudimentary, but soon enough, some really well-established restaurants [developed].”\"},{type:\"text\",value:\"Street food was a particularly normal part of daily life at the time, according to Megan Elias, an associate professor of the practice and the director of the gastronomy program at Boston University. Elias said that sitting down in a restaurant was not part of mainstream New York City culture until post-World War II, with indoor dining reserved for the elite.\"},{type:\"text\",value:\"“What there was [in the early 1900s] was a very complex, very rich—not financially, but culturally—street food scene,” Elias said. “So you could get anything on any corner, except for in the residential neighborhoods. There were people selling all kinds of food all over the city from carts. … You can get a cart, just a couple of pieces of wood and some wheels, and put some food in it and sell it for cheap.”\"},{type:\"text\",value:\"According to Elias, many Black migrants brought a kind of “collective spirit” with them to Harlem. Some of the earliest food businesses in Harlem revolved around “very informal group child care,” in which Harlem residents, particularly women, would take care of children and prepare meals for them while their parents were at work.\"},{type:\"text\",value:\"According to Elias, the Harlem community provided for itself because racist structures in the city prevented Black residents from renting businesses or having clientele beyond their immediate community. Street food became a way for Black chefs and businessmen to supply others with food without having to apply for licensing.\"},{type:\"text\",value:\"“In 1920s and 1930s New York, you were very unlikely to make a living as a restaurant owner because your clientele was going to be extremely limited. It was just going to be people in your neighborhood, and those people were probably not going to have a lot of disposable income,” Elias said. “So what that meant was that there were just a lot more informal setups, food for sale, people feeding each other.”\"},{type:\"text\",value:\"One of the most successful street vendors at the time was Lillian Harris Dean, who took the name Pig Foot Mary after arriving in Harlem and establishing her business. Dean sold traditional foods like pigs’ feet and chitterlings out of a repurposed baby carriage. For 16 years, she stood at the corner of Lenox Avenue and 135th Street, purchasing a cook cart along the way. She would eventually marry the owner of a nearby newsstand and go into real estate.\"},{type:\"text\",value:\"“I think she’s become emblematic of a certain kind of entrepreneurship that existed particularly with people in the Great Migration…” Harris said. “I think that Pig Foot Mary in that sense has become kind of one that stands for the many.”\"},{type:\"text\",value:\"In her book, Harris also described figures like Patsy Randolph, who collected watermelon rinds and other castoffs from restaurants and shops in Harlem and resold them as pickles, pepper sauces, and relishes. Ralph Ellison’s novel “Invisible Man” captured Harlem’s street food scene with descriptions of street vendors selling roasted sweet potatoes. In uptown markets, leafy greens like collards were more popular than vegetables like broccoli, and chitterlings added a “pungent odor” to the marketplace.\"},{type:\"text\",value:\"The 1920s also saw the emergence of Caribbean and West Indian food vendors in Harlem. These vendors sold tropical fruits like pineapples and coconuts as well as the “less noble parts of the pig.” During this era, West Indian churches—and therefore food—thrived in Harlem, and Harlem also saw the development of small Haitian enclaves who came to the United States following the American occupation of Haiti.\"},{type:\"text\",value:\"“What often eludes us is that there was a strong West Indian community in Harlem, partly in what was then called the Latin Quarter that we now call East Harlem, but their role in food was more as greengrocers, who would now be more like bodega owners,” Scott Barton, an assistant adjunct food studies professor at New York University and Queens College, said. “They are a bridge culture, in my mind, to integrate some ‘tropical’ products and foodstuffs or ways of cooking that might occur in oral transmission in the buying and selling of products in a grocery or market.”\"},{type:\"text\",value:\"With the rise of the Harlem Renaissance came the development of jazz and blues music in Harlem. The start of Prohibition in 1920 turned Harlem into a destination for many speakeasies and cabarets. However, many of these clubs were strictly segregated and catered only to white audiences. Only the performers and kitchen staff were Black and the menus catered to “downtown tastes.”\"},{type:\"text\",value:\"This exclusion of Black New Yorkers from Harlem nightlife led to the development of rent parties, which were social occasions in which tenants would hire local jazz or blues musicians as a way of paying their rents. The cost of admission to these rent parties lingered at around 25 cents, and in addition to bootleg alcohol, traditional Black cooking often attracted hundreds of community members. According to Harris, foods like okra gumbo, sweet potato pone, and Hoppin’ John—Carolina peas and rice—were among favorites at rent parties.\"},{type:\"text\",value:\"“[Rent parties] were used for rent, for anything, for if somebody needed money for a wedding or a funeral sometimes, or to start a business. That was a way to not only get money, but engage your community in making that rent or getting that money,” Elias said.\"},{type:\"text\",value:\"For some affluent Black figures like A’Lelia Walker, the daughter of the first self-made female millionaire in the country, Madame C.J. Walker, food was a means of catering to Harlem high society. Yet for much of the Harlem community, rent parties were one of the only viable ways to survive. However, the stock market crash of 1929 halted these gatherings, and by 1934, Harlem faced an unemployment rate of 48 percent.\"},{type:\"text\",value:\"Following what Harris described as a decade of “celebrations of the secular world,” the 1930s saw Harlemites return to church life. According to Miller, churches were historically central to Black communities in the rural South, in part due to the geographical isolation of the area. The church acted as the “glue and social fabric of a community,” and one way in which church brought people together was through food. In Harlem, churches often fed the hungry for free, especially following the Great Migration, since migrants to Harlem were not always welcomed with open arms.\"},{type:\"text\",value:\"“Getting a job was a struggle. If you got a job, you often weren’t paid what you should have been paid, and so churches filled the breach by providing food—sometimes cooked meals that were cheap, or just providing the raw ingredients so people could cook at home,” Miller said.\"},{type:\"text\",value:\"One of the leading church figures at the time was Father Divine, a reverend who lived in Harlem from 1932 to 1942. Father Divine, who often preached about racial equality, hosted lavish banquets in Harlem for the community, serving dishes like roast duck and lamb stew. When Divine arrived in Harlem, he also began to acquire housing projects called “heavens” where people could stay while searching for jobs and paying a low rent. He acquired many restaurants that were economical and cash only, which extended from Harlem to Los Angeles and Seattle.\"},{type:\"text\",value:\"<b>Arturo Schomburg: Preserver of culinary history</b>\"},{type:\"text\",value:\"Arturo Schomburg, the namesake of the Schomburg Center for Research in Black Culture, was a Puerto Rican historian of African and German descent who co-founded the Negro Society for Historical Research. Schomburg was a leading figure in the Harlem Renaissance and was also a major collector of Black artifacts, including slave narratives, paintings, letters, and essays. However. Schomburg is lesser known for his contributions to the culinary world, which continue to inspire researchers and cooks today.\"},{type:\"text\",value:'In 1930, Schomburg began to write a cookbook that intended to compile 400 recipes showcasing Black culinary diversity. However, the cookbook was never finished, and at the time of his death, Schomburg had only completed a proposal for the cookbook’s contents. The 22-page book contained just one recipe, but it proposed all sorts of creative recipes for a hypothetical cookbook including turtle soup, squab pies, kidney omelets, and fig ice cream. His cookbook has even helped to document Black cuisine today, and as <a href=\"https://www.atlasobscura.com/articles/arturo-schomburg-cookbook\">Atlas Obscura</a> writes in a recent article, Schomburg’s cookbook inspired two African-American cookbooks by authors Rafia Zafar and Toni Tipton-Martin.'},{type:\"text\",value:\"Doris Witt, an associate professor at the University of Iowa, was one of the first to write about the cookbook in her book “Black Hunger: Food and the Politics of U.S. Identity.” According to Witt, Schomburg’s work would “show the diversity of foodways of African Americans in the South and elsewhere in the country, he would talk about famous chefs’ sort of regional specialties.”\"},{type:\"text\",value:\"“He was indeed conceptualizing Black foodways in America as from a kind of diasporic vantage point in the sense that he took it for granted that there were retentions from Africa that enslaved people have brought with them, which wasn’t always necessarily the case back in the time like the 1920s or whenever,” Witt said. “You didn’t have a fully widespread recognition that the people who were captured into slavery brought with them … religious practices, food practices, seeds that had been part of their culture before they were enslaved.”\"},{type:\"text\",value:\"According to Witt, Schomburg was writing during a period of debate concerning how scholars could conceptualize African American history, either focusing on the elite African Americans that W.E.B. DuBois termed the “Talented Tenth” or telling history from the bottom up. Witt noted that Schomburg’s cookbook would have looked at the cultural practices of the everyday “masses of people” and not just great men and their great deeds.\"},{type:\"text\",value:\"Witt emphasized that Schomburg recognized early in history the importance of food as a cultural practice, taking it upon himself to develop an archive about it. Although still relatively unknown, the Schomburg cookbook gave power to the common chef who brought their community together through cooking.\"},{type:\"text\",value:\"Today, the Schomburg Center features a collection of dozens of takeout menus dating back as early as the 1890s. Notable menus in the collection include a 1946 menu from the Joe Louis Restaurant, owned by the professional boxer, which offered dishes like Creole shrimp with rice for $1.25; a 1925 menu from the Cotton Club, which featured a selection of European-American dishes like Welsh rarebit and filet mignon, as well as Chinese-American options like chop suey and chow mein; and a 1960s menu from Sylvia’s Restaurant featuring soul food favorites for around $4.00.\"},{type:\"text\",value:\"<b>The 1960s: Debate, reform, and soul</b>\"},{type:\"text\",value:\"The concept of soul food as a cuisine began to gain traction in the 1960s. According to Elias, the 1960s were a period of debates over soul food as a representation of Black foodways and as a cuisine itself.\"},{type:\"text\",value:\"“[Soul food] was a way for African Americans to champion their culture, to take a culture that had been so disregarded, so disrespected and to say, look, we have these beautiful creations, these things that you, whoever you are, want to eat,” Elias said.\"},{type:\"text\",value:\"Wells Supper Club, opened in 1938, is accredited with first putting chicken and waffles together on the same plate, one of Harlem’s first soul food restaurants, while Copeland’s, a landmark soul food restaurant, has been open for over 50 years since the late 1950s.\"},{type:\"text\",value:\"Another major proponent of soul food as a distinct cuisine has been Sylvia Woods, the self-proclaimed “Queen of Soul Food” and founder of Sylvia’s Restaurant. After working for eight years at a local Harlem luncheonette, Woods was offered ownership of the space, which featured just a few booths and a counter. Sylvia’s offered classic Southern dishes like fried catfish and pork and greens, and the restaurant spiked in popularity after a mention by New York magazine critic Gael Greene.\"},{type:\"text\",value:\"The restaurant continues to prosper due to Woods’ world-famous recipes and creative marketing techniques. According to Miller, a meal at Sylvia’s includes tours that take people to notable Black churches in the Harlem area. In “High on the Hog,” Harris describes the lively Sunday scene at Sylvia’s as “packed not only with camera be-draped tourists looking for a taste of African American culture but also with Harlem natives, who remain loyal.”\"},{type:\"text\",value:\"This admiration for soul food in the 1960s was also met with some backlash in areas like Harlem. However, for Barton, the term “soul food” has a “problematic demarcation” because to him, every culture has its own soul food. He believes that there are inherent issues with soul food connoting food made by and for Black people, while the term “Southern food” implicitly encapsulates food meant for white people.\"},{type:\"text\",value:\"“Where do we draw a line and distinguish, and where do we value one and give funding for young restaurateurs who are producing that genre and denigrate another?” Barton asked.\"},{type:\"text\",value:\"In her book “Black Hunger,” Witt discusses the memoir “Soul on Ice” by Black Panther leader Eldridge Cleaver, who considered eating soul food as counterrevolutionary Black bourgeois ideology. He argued that soul food represented economic mobility among middle and upper-class Black Americans rather than being an authentic Black cultural practice.\"},{type:\"text\",value:\"The widening scope of the Nation of Islam during the 1950s and 1960s further contributed to the development of anti-soul food ideology. According to Witt, Nation of Islam leader Elijah Muhammad was “very hostile to foods associated with soul food like pork and cornbread,” in part because soul food was associated with the Black Christian church as well as Black femininity. As many Harlem residents left the Catholic church to join the Nation of Islam, a dismissive attitude toward soul food was exacerbated by the Nation of Islam’s strict dietary practices.\"},{type:\"text\",value:\"Comedian and Vegetarian Activist Dick Gregory also opposed soul food, for he did not think the concept was indicative of what enslaved people actually ate; Gregory argued that enslaved people ate soil food––not soul food.\"},{type:\"text\",value:\"“He said most enslaved people didn’t have access to a lot of meat, nice cuts of pork or chicken or things like that, that their diet was sort of vegetable centered with grains, cornbread and supplemented vegetables and fruits, things that grew in their own garden,” Witt said.\"},{type:\"text\",value:\"Gregory argued that many soul food dishes were unhealthy to eat, with too much salt and fat. Instead, he promoted the idea that a reconceptualized version of “soul food” could be beneficial to Black health, going so far as to promote a fruitarian diet.\"},{type:\"text\",value:\"Gregory’s emphasis on vegetarianism and healthy, authentic soul food changed many Harlemites’ attitudes toward the unhealthy preparations of soul food. In Harlem, a handful of vegan soul food spots like Seasoned Vegan opened recently, and Harlem-based Black chefs have published vegan soul food cookbooks as well. Miller considers the growth of vegan soul cooking not as a departure from traditional forms but rather a homecoming.\"},{type:\"text\",value:\"“If you actually look at African American food traditions all the way back to West Africa, vegetables are a huge part of the cuisine,” Miller said. “It’s a total disconnect with how soul food is generally perceived because the way that most people think about soul food is that it’s just fried chicken, barbecue, biscuits, glorious desserts … but they don’t think about all these other things like okra, hibiscus, the various different vegetable preparations that are part of soul food.”\"},{type:\"text\",value:\"<b>The growth of African Diaspora cooking</b>\"},{type:\"text\",value:\"Although Harlem has historically been known for its soul food establishments, the neighborhood experienced a migration of West Africans and East Africans around 40 years ago. Harlem is home to small enclaves of Senegalese and Ethiopian immigrants, as well as a handful of Somalian, Nigerian, and Ivorian immigrants; many of these immigrants moved to Harlem for the economic opportunities that come with urban life, as well as affordable rents.\"},{type:\"text\",value:\"“I think it’s the fact that a lot of companies were saying we need workers, and the way it usually worked was chain migration as we call it today,” Miller said. “So somebody comes, they get settled, and they say, ‘Hey cousin or brother, sister, or family member, you should come join me in New York. That the place you’re in, you’re not going anywhere there, but here’s a place of opportunity.’”\"},{type:\"text\",value:'<a href=\"https://www.columbiaspectator.com/arts-and-entertainment/2019/11/07/little-senegal-a-home-for-west-african-food-and-culture-in-harlem/\">Little Senegal</a>, which features shops and restaurants established by people of francophone West African heritage, runs along 116th Street. There are about 10 Senegalese restaurants now open in Harlem, although Barton notes that “there used to be a little bit more diversity in some of the West African presentation.” Little Senegal has been shrinking due to increasing rents that have pushed some Senegalese to nearby boroughs like the Bronx.'},{type:\"text\",value:\"At restaurants like Le Baobab Gouygui, popular dishes include suppu kandja, fish served in a fragrant okra sauce; lamb maffe, lamb prepared in a creamy peanut sauce; and domada yapp, lamb stewed in tomato sauce mixed with wheat flour. Nearby Pikine is known for its Thiéboudienne, a national Senegalese dish consisting of grilled fish, broken rice, tomato sauce, and cabbage, as well as North African dishes like lemchenk, roasted lamb served with onions. Adja Khady Market specializes in Senegalese food imports as well as products from neighboring countries like Sierra Leone and Ivory Coast. Barton noted that a handful of Senegalese eateries in the area like Sapphire also draw from French cuisine as well.\"},{type:\"text\",value:\"Safari, the only Somali restaurant in the city, is also in Little Senegal. The Italian, Indian, and Arabic roots of Somali cuisine are reflected in dishes like mango curry chicken with berbere spice mix and chicken suqaar prepared with Somali hot sauce and served with either rice or sabaayad, Somali flatbread similar to Indian naan.\"},{type:\"text\",value:\"Barton noted that Harlem has also had an unofficial “Little Ethiopia” by Frederick Douglass Boulevard for decades. According to Barton, Ethiopian spots in Harlem and the city at large tend to be owned and operated by women and are “embraced by the community.”\"},{type:\"text\",value:\"Barton recalled going to an Ethiopian restaurant in Harlem back in the 1980s that featured live Ethiopian jazz, which would bring together clientele like immigrant taxi drivers, working-class locals, and people of all cultural backgrounds. He also said that Ethiopian restaurants often survive across generations due to the economics behind how dishes are prepared.\"},{type:\"text\",value:\"“It’s a cuisine based on stews and slow cooking, so they can do that in a restaurant setting and have, I’m guessing, the equivalency of steam tables or prepared foods that are reheated, because it is about slow-simmered stews for the most part, some vegetables like collard greens and steamed carrots and cabbage, so that if they can meet their rent can work their way into the next hopefully generation,” Barton said.\"},{type:\"text\",value:\"According to Barhany, the owner of Ethiopian-Israeli restaurant Tsion Cafe, there is a strong Ethiopian community in Harlem that appreciates differences; as an Ethiopian Jew who lived in Israel, Barhany has interacted with fellow Ethiopian-Israelis as well as Ethiopian-Italians and recent migrants from Addis Ababa. Barhany also founded BINA, or Beta Israel of North America, for fellow Ethiopian-Jews.\"},{type:\"text\",value:\"“Going back in terms of the history of Harlem in general, you have the Abyssinian Church which was actually formed and founded by Ethiopian missionaries,” Barhany said. “So there is the impact, the stamp of Ethiopia in general [on Harlem], not necessarily being Jewish but being Ethiopian, there is the connection.”\"},{type:\"text\",value:\"Many Caribbean and West Indian immigrants have settled in Harlem, opening restaurants like Sisters’ Caribbean Cuisine, Wat’s On Your Plate, and Kingston. These restaurants and small businesses have been supported in part by Harlem’s Caribbean Cultural Center African Diaspora Institute.\"},{type:\"text\",value:\"Harlem has also been the site of what Miller calls “diasporic dinners,” wherein prominent chefs who are children of African immigrants track their heritage through four-course dinners. For example, a chef could invite diners over to their place and serve them successive dishes from West Africa, the Caribbean, and the South, before concluding with a dish that represents who they are as a chef today.\"},{type:\"text\",value:\"<b>Keeping tradition alive, 100 years later</b>\"},{type:\"text\",value:\"What started as street vendors selling pig’s feet out of baby carriages developed into one of the city’s most diverse neighborhoods serving cuisines from all over the world. According to Valerie Wilson, Harlem’s restaurants are trendsetters that lead culinary movements and inspire restaurant concepts that are practiced nationwide.\"},{type:\"text\",value:\"“It’s a testament to the strength of the past to launch new brands and new concepts, and I think that’s a hallmark of what the dining scene in Harlem is,” Wilson said. “Many of the restaurants here are concept-driven and less chef-driven, and they tend to be things that get replicated, or that have longevity here, because they're usually these unique concepts that are not anywhere else.”\"},{type:\"text\",value:\"One major Harlem restaurant that reinterpreted soul food was Miss Mamie’s Spoonbread Too, started by former model Norma Jean Darden. Darden and her sister wrote one of the first Black cookbooks following the civil rights era titled “Spoonbread and Strawberry Wine,” which was so successful that she established Spoonbread Catering, one of Harlem’s best-known caterers. Eventually, Darden opened up Miss Mamie’s Spoonbread Too in 1998, which featured both Southern staples as well as more international dishes.\"},{type:\"text\",value:\"More recently, Harlem institutions like Melba’s and Amy Ruth’s greeted the community with new twists on classic soul food staples. Founded in 1999, Amy Ruth’s increased the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. Melba’s was opened in 2005 after Harlem native Melba Wilson decided to apply the business savvy she earned working at Sylvia’s toward a more modern eatery. Wilson’s eatery helped keep Harlem’s soul food traditions alive through dishes like Southern Chicken and soul food spring rolls.\"},{type:\"text\",value:\"Celebrity chef Marcus Samuelsson, alongside Andrew Chapman, opened Red Rooster Harlem to celebrate the culinary traditions of Harlem’s diverse cultures. The restaurant takes its name from the legendary Harlem speakeasy that attracted figures like James Baldwin and Nat King Cole.\"},{type:\"text\",value:\"Innovative fusion concepts have been at the forefront of Harlem’s new and hip restaurant scene. After helping create the Afro-Asian menu for Harlem’s The Cecil, Joseph Johnson opened FIELDTRIP in 2019. His restaurant’s rice bowls draw from Southern, Cajun, West African, and Asian culinary traditions. Teranga, co-founded by Senegalese chef Pierre Thiam, blends the many cuisines of Africa, from Ghana to Nigeria to Gambia. Harlem newcomer Archer & Goat also serves inventive dishes reflecting cuisines from countries like Ecuador, Puerto Rico, and Bangladesh. Fusion dishes include Chicken Vindaloo Arepas and Rogan Josh with lamb, pappardelle, and avocado vinaigrette.\"},{type:\"text\",value:\"Today, organizations like Harlem Park to Park are helping keep Black-owned small businesses alive and thriving, especially during the COVID-19 pandemic. Gentrification along with rising food and rent prices continues to jeopardize many of Harlem’s longtime Black-owned restaurants, but community initiatives and funding opportunities have assisted these restaurants that preserve so much of Harlem’s rich culinary history.\"},{type:\"text\",value:\"“We’ve been all done a huge disservice to have so much of it left out of how we learn and understand history because we would all be a lot better off knowing the truth about ourselves, so we can have a real understanding of how to move forward together,” Wilson said.\"},{type:\"text\",value:\"Harlem Park to Park has represented over 250 business owners committed to Harlem’s heritage and economic growth. This organization has partnered with others like the Columbia-Harlem Small Business Development Center for initiatives such as Shop Harlem Made and the Harlem Local Vendor Program, a business accelerator program for Harlem-based makers and manufacturers.\"},{type:\"text\",value:\"During the COVID-19 pandemic, Harlem Park to Park greatly aided small businesses by serving as an informational resource on everything from funding to rent policies. Additionally, the organization partnered with local businesses on a grocery initiative for furloughed hospitality and frontline workers. It was one of 16 community partners with the Local Initiatives Support Corporation for the Small Business Relief & Recovery Grant Fund, which provided grants of $10,000 to nine small businesses like Safari Restaurant and Lee Lee’s Rugelach.\"},{type:\"text\",value:'This February, Harlem businesses are celebrating the return of 25 percent indoor dining with $25 meals during <a href=\"https://www.harlemrestaurantweek.com/\">Harlem Restaurant Week</a>. Participating restaurants include Lolo’s Seafood Shack, Ponty Bistro Harlem, Au Jus Oklahoma Barbecue, and Santiago’s Beer Garden.'},{type:\"text\",value:\"Additionally, UberEats funded a program called the Renaissance Pavilion, which paired six Black-owned businesses with local artists and architects to create custom outdoor dining structures.\"},{type:\"text\",value:\"From chaotic rent parties to unfinished cookbooks to the vibrant and diverse Harlem restaurant scene, one thing has united Harlemites from all social classes and ethnicities: food.\"},{type:\"text\",value:\"“Eating is such a common human element. We can always, no matter how different we are, no matter how different viewpoints we may have, when it comes to anything including politics we can always sit down and break bread together, and learning about each other’s culinary heritage is a great way to just really understand each other,” Chowdhury said.\"},{type:\"graphic\",value:{asset:\"\"}},{type:\"text\",value:'<i>Arts & Entertainment editor Noah Sheidlower can be contacted at </i><a href=\"mailto:noah.sheidlower@columbiaspectator.com\"><i>noah.sheidlower@columbiaspectator.com</i></a><i>.</i><i> Follow him on Twitter </i><a href=\"https://twitter.com/NSheidlower\"><i>@NSheidlower</i></a><i>.</i>'},{type:\"text\",value:'<i>Map developed by newsroom developer Victoria Geh. She can be contacted at </i><a href=\"mailto:victoria.geh@columbiaspectator.com\"><i>victoria.geh@columbiaspectator.com</i></a><i>. Follow her on YouTube </i><a href=\"https://www.youtube.com/c/victoriageh\"><i>@victoriageh</i></a><i>.</i>'}]};","import Doc from \"../../data/doc.json\";\n\nvar config = {\n    style: 'mapbox://styles/mapbox/dark-v9',\n    accessToken: 'pk.eyJ1IjoiaG9uZ3NlbmR1IiwiYSI6ImNrbDJxNDJ0djBjMjYydXBraGNuNWM0djUifQ.ByezJ_3QPduEseu6a3_2qw',\n    showMarkers: true,\n    markerColor: '#3FB1CE',\n    theme: 'dark',\n    use3dTerrain: true,\n    chapters: [\n        {\n            id: 'slug-style-id',\n            alignment: 'left',\n            hidden: false,\n            description: 'Introduction about the article in general',\n            location: {\n                center: [-73.9572, 40.8045],\n                zoom: 15,\n                pitch: 0,\n                bearing: 0\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [\n                // {\n                //     layer: 'layer-name',\n                //     opacity: 1,\n                //     duration: 5000\n                // }\n            ],\n            onChapterExit: [\n                // {\n                //     layer: 'layer-name',\n                //     opacity: 0\n                // }\n            ]\n        },\n        {\n            id: 'sylvias',\n            alignment: 'left',\n            hidden: false,\n            description: 'Sylvia’s Restaurant, “The Queen of Soul Food,” was founded in 1962 by Sylvia Woods, serving soul food classics to the Harlem community like fried chicken and bar-b-que ribs for nearly six decades. This iconic restaurant has attracted figures like Barack Obama, Nelson Mandela, Bill Clinton, Whoopi Goldberg, and countless other celebrities.',\n            location: {\n                center: [-73.94447900208048, 40.80865259993899],\n                zoom: 17,\n                pitch: 0,\n                bearing: 20\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [],\n            onChapterExit: []\n        },\n        {\n            id: 'amyruths',\n            alignment: 'left',\n            hidden: false,\n            description: 'Founded in 1998, Amy Ruth’s helped expand the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. The institution takes its name from the founders’ grandmother Amy Ruth Moore Bass, a native Alabamian and mother of 10 children who “taught all of her children and grandchildren how to love each other, to look out for one another, and to respect themselves as well as others.\"',\n            location: {\n                center: [-73.95021425760106, 40.80270006369895],\n                zoom: 19,\n                pitch: 20,\n                bearing: 0\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [],\n            onChapterExit: []\n        },\n        {\n            id: 'melbas',\n            alignment: 'left',\n            hidden: false,\n            description: 'Founded in 1998, Amy Ruth’s helped expand the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. The institution takes its name from the founders’ grandmother Amy Ruth Moore Bass, a native Alabamian and mother of 10 children who “taught all of her children and grandchildren how to love each other, to look out for one another, and to respect themselves as well as others.\"',\n            location: {\n                center: [-73.95658658643693, 40.803272405026455],\n                zoom: 18,\n                pitch: 20,\n                bearing: 0\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [],\n            onChapterExit: []\n        },\n        {\n            id: 'redrooster',\n            alignment: 'left',\n            hidden: false,\n            description: 'Founded in 1998, Amy Ruth’s helped expand the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. The institution takes its name from the founders’ grandmother Amy Ruth Moore Bass, a native Alabamian and mother of 10 children who “taught all of her children and grandchildren how to love each other, to look out for one another, and to respect themselves as well as others.\"',\n            location: {\n                center: [-73.94463548458589, 40.808285654806056],\n                zoom: 17,\n                pitch: 20,\n                bearing: 0\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [],\n            onChapterExit: []\n        },\n        {\n            id: 'cottonclub',\n            alignment: 'left',\n            hidden: false,\n            description: 'Founded in 1998, Amy Ruth’s helped expand the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. The institution takes its name from the founders’ grandmother Amy Ruth Moore Bass, a native Alabamian and mother of 10 children who “taught all of her children and grandchildren how to love each other, to look out for one another, and to respect themselves as well as others.\"',\n            location: {\n                center: [-73.9602977272153, 40.81780651171123],\n                zoom: 19,\n                pitch: 20,\n                bearing: 0\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [],\n            onChapterExit: []\n        },\n        {\n            id: 'seasonedvegan',\n            alignment: 'left',\n            hidden: false,\n            description: 'Founded in 1998, Amy Ruth’s helped expand the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. The institution takes its name from the founders’ grandmother Amy Ruth Moore Bass, a native Alabamian and mother of 10 children who “taught all of her children and grandchildren how to love each other, to look out for one another, and to respect themselves as well as others.\"',\n            location: {\n                center: [-73.95275073061616, 40.80080104628655],\n                zoom: 18,\n                pitch: 20,\n                bearing: 0\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [],\n            onChapterExit: []\n        },\n        {\n            id: 'tsioncafe',\n            alignment: 'left',\n            hidden: false,\n            description: 'Founded in 1998, Amy Ruth’s helped expand the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. The institution takes its name from the founders’ grandmother Amy Ruth Moore Bass, a native Alabamian and mother of 10 children who “taught all of her children and grandchildren how to love each other, to look out for one another, and to respect themselves as well as others.\"',\n            location: {\n                center: [-73.94344591712296, 40.82640216381314],\n                zoom: 17,\n                pitch: 20,\n                bearing: 0\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [],\n            onChapterExit: []\n        },\n        {\n            id: 'archergoat',\n            alignment: 'left',\n            hidden: false,\n            description: 'Founded in 1998, Amy Ruth’s helped expand the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. The institution takes its name from the founders’ grandmother Amy Ruth Moore Bass, a native Alabamian and mother of 10 children who “taught all of her children and grandchildren how to love each other, to look out for one another, and to respect themselves as well as others.\"',\n            location: {\n                center: [-73.94834750178023, 40.80459943429945],\n                zoom: 19,\n                pitch: 20,\n                bearing: 0\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [],\n            onChapterExit: []\n        },\n        {\n            id: 'littlesenegal',\n            alignment: 'left',\n            hidden: false,\n            description: 'Founded in 1998, Amy Ruth’s helped expand the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. The institution takes its name from the founders’ grandmother Amy Ruth Moore Bass, a native Alabamian and mother of 10 children who “taught all of her children and grandchildren how to love each other, to look out for one another, and to respect themselves as well as others.\"',\n            location: {\n                center: [-73.95426384225763, 40.80434171197095],\n                zoom: 19,\n                pitch: 20,\n                bearing: 0\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [],\n            onChapterExit: []\n        },\n        {\n            id: 'schomburg',\n            alignment: 'left',\n            hidden: false,\n            description: 'Founded in 1998, Amy Ruth’s helped expand the popularity of chicken and waffles in Harlem as well as other waffle pairings like fried catfish or pork chop. The institution takes its name from the founders’ grandmother Amy Ruth Moore Bass, a native Alabamian and mother of 10 children who “taught all of her children and grandchildren how to love each other, to look out for one another, and to respect themselves as well as others.\"',\n            location: {\n                center: [-73.94059340786883, 40.81475769680448],\n                zoom: 19,\n                pitch: 20,\n                bearing: 0\n            },\n            mapAnimation: 'flyTo',\n            rotateAnimation: false,\n            callback: '',\n            onChapterEnter: [],\n            onChapterExit: []\n        }\n    ]\n};\n\nvar steps = Doc.top[0].value.steps;\nsteps.forEach(function (element, index) {\n    config.chapters[index].description = element;\n})\n\nconsole.log(config)\n\nmodule.exports = {\n    config\n};","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function() {\n'use strict';\n\n// Exit early if we're not running in a browser.\nif (typeof window !== 'object') {\n  return;\n}\n\n// Exit early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n\n/**\n * A local reference to the document.\n */\nvar document = window.document;\n\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n/**\n * The signal updater for cross-origin intersection. When not null, it means\n * that the polyfill is configured to work in a cross-origin mode.\n * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nvar crossOriginUpdater = null;\n\n/**\n * The current cross-origin intersection. Only used in the cross-origin mode.\n * @type {DOMRect|ClientRect}\n */\nvar crossOriginRect = null;\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = ensureDOMRect(entry.rootBounds);\n  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);\n  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (options.root && options.root.nodeType != 1) {\n    throw new Error('root must be an Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n\n  /** @private @const {!Array<!Document>} */\n  this._monitoringDocuments = [];\n  /** @private @const {!Array<function()>} */\n  this._monitoringUnsubscribes = [];\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Sets up the polyfill in the cross-origin mode. The result is the\n * updater function that accepts two arguments: `boundingClientRect` and\n * `intersectionRect` - just as these fields would be available to the\n * parent via `IntersectionObserverEntry`. This function should be called\n * each time the iframe receives intersection information from the parent\n * window, e.g. via messaging.\n * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nIntersectionObserver._setupCrossOriginUpdater = function() {\n  if (!crossOriginUpdater) {\n    /**\n     * @param {DOMRect|ClientRect} boundingClientRect\n     * @param {DOMRect|ClientRect} intersectionRect\n     */\n    crossOriginUpdater = function(boundingClientRect, intersectionRect) {\n      if (!boundingClientRect || !intersectionRect) {\n        crossOriginRect = getEmptyRect();\n      } else {\n        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);\n      }\n      registry.forEach(function(observer) {\n        observer._checkForIntersections();\n      });\n    };\n  }\n  return crossOriginUpdater;\n};\n\n\n/**\n * Resets the cross-origin mode.\n */\nIntersectionObserver._resetCrossOriginUpdater = function() {\n  crossOriginUpdater = null;\n  crossOriginRect = null;\n};\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections(target.ownerDocument);\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n        return item.element != target;\n      });\n  this._unmonitorIntersections(target.ownerDocument);\n  if (this._observationTargets.length == 0) {\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorAllIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function(doc) {\n  var win = doc.defaultView;\n  if (!win) {\n    // Already destroyed.\n    return;\n  }\n  if (this._monitoringDocuments.indexOf(doc) != -1) {\n    // Already monitoring.\n    return;\n  }\n\n  // Private state for monitoring.\n  var callback = this._checkForIntersections;\n  var monitoringInterval = null;\n  var domObserver = null;\n\n  // If a poll interval is set, use polling instead of listening to\n  // resize and scroll events or DOM mutations.\n  if (this.POLL_INTERVAL) {\n    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);\n  } else {\n    addEvent(win, 'resize', callback, true);\n    addEvent(doc, 'scroll', callback, true);\n    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {\n      domObserver = new win.MutationObserver(callback);\n      domObserver.observe(doc, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  this._monitoringDocuments.push(doc);\n  this._monitoringUnsubscribes.push(function() {\n    // Get the window object again. When a friendly iframe is destroyed, it\n    // will be null.\n    var win = doc.defaultView;\n\n    if (win) {\n      if (monitoringInterval) {\n        win.clearInterval(monitoringInterval);\n      }\n      removeEvent(win, 'resize', callback, true);\n    }\n\n    removeEvent(doc, 'scroll', callback, true);\n    if (domObserver) {\n      domObserver.disconnect();\n    }\n  });\n\n  // Also monitor the parent.\n  if (doc != (this.root && this.root.ownerDocument || document)) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._monitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function(doc) {\n  var index = this._monitoringDocuments.indexOf(doc);\n  if (index == -1) {\n    return;\n  }\n\n  var rootDoc = (this.root && this.root.ownerDocument || document);\n\n  // Check if any dependent targets are still remaining.\n  var hasDependentTargets =\n      this._observationTargets.some(function(item) {\n        var itemDoc = item.element.ownerDocument;\n        // Target is in this context.\n        if (itemDoc == doc) {\n          return true;\n        }\n        // Target is nested in this context.\n        while (itemDoc && itemDoc != rootDoc) {\n          var frame = getFrameElement(itemDoc);\n          itemDoc = frame && frame.ownerDocument;\n          if (itemDoc == doc) {\n            return true;\n          }\n        }\n        return false;\n      });\n  if (hasDependentTargets) {\n    return;\n  }\n\n  // Unsubscribe.\n  var unsubscribe = this._monitoringUnsubscribes[index];\n  this._monitoringDocuments.splice(index, 1);\n  this._monitoringUnsubscribes.splice(index, 1);\n  unsubscribe();\n\n  // Also unmonitor the parent.\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._unmonitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorAllIntersections = function() {\n  var unsubscribes = this._monitoringUnsubscribes.slice(0);\n  this._monitoringDocuments.length = 0;\n  this._monitoringUnsubscribes.length = 0;\n  for (var i = 0; i < unsubscribes.length; i++) {\n    unsubscribes[i]();\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  if (!this.root && crossOriginUpdater && !crossOriginRect) {\n    // Cross origin monitoring, but no initial data available yet.\n    return;\n  }\n\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, targetRect, rootRect);\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: crossOriginUpdater && !this.root ? null : rootRect,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} targetRect The bounding rect of the target.\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, targetRect, rootRect) {\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot && parent) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return null;\n\n    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {\n      atRoot = true;\n      if (parent == this.root || parent == document) {\n        if (crossOriginUpdater && !this.root) {\n          if (!crossOriginRect ||\n              crossOriginRect.width == 0 && crossOriginRect.height == 0) {\n            // A 0-size cross-origin intersection means no-intersection.\n            parent = null;\n            parentRect = null;\n            intersectionRect = null;\n          } else {\n            parentRect = crossOriginRect;\n          }\n        } else {\n          parentRect = rootRect;\n        }\n      } else {\n        // Check if there's a frame that can be navigated to.\n        var frame = getParentNode(parent);\n        var frameRect = frame && getBoundingClientRect(frame);\n        var frameIntersect =\n            frame &&\n            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);\n        if (frameRect && frameIntersect) {\n          parent = frame;\n          parentRect = convertFromParentRect(frameRect, frameIntersect);\n        } else {\n          parent = null;\n          intersectionRect = null;\n        }\n      }\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      var doc = parent.ownerDocument;\n      if (parent != doc.body &&\n          parent != doc.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n    }\n    if (!intersectionRect) break;\n    parent = parent && getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {ClientRect} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var html = document.documentElement;\n    var body = document.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {DOMRect|ClientRect} rect The rect object to expand.\n * @return {ClientRect} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  return containsDeep(this.root || document, target) &&\n    (!this.root || this.root.ownerDocument == target.ownerDocument);\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object|?ClientRect} The intersection rect or undefined if no\n *     intersection is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  } || null;\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {ClientRect} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n\n/**\n * Ensure that the result has all of the necessary fields of the DOMRect.\n * Specifically this ensures that `x` and `y` fields are set.\n *\n * @param {?DOMRect|?ClientRect} rect\n * @return {?DOMRect}\n */\nfunction ensureDOMRect(rect) {\n  // A `DOMRect` object has `x` and `y` fields.\n  if (!rect || 'x' in rect) {\n    return rect;\n  }\n  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case\n  // for internally calculated Rect objects. For the purposes of\n  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`\n  // for these fields.\n  return {\n    top: rect.top,\n    y: rect.top,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    right: rect.right,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n\n/**\n * Inverts the intersection and bounding rect from the parent (frame) BCR to\n * the local BCR space.\n * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.\n * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.\n * @return {ClientRect} The local root bounding rect for the parent's children.\n */\nfunction convertFromParentRect(parentBoundingRect, parentIntersectionRect) {\n  var top = parentIntersectionRect.top - parentBoundingRect.top;\n  var left = parentIntersectionRect.left - parentBoundingRect.left;\n  return {\n    top: top,\n    left: left,\n    height: parentIntersectionRect.height,\n    width: parentIntersectionRect.width,\n    bottom: top + parentIntersectionRect.height,\n    right: left + parentIntersectionRect.width\n  };\n}\n\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {\n    // If this node is a document node, look for the embedding frame.\n    return getFrameElement(node);\n  }\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n\n  if (parent && parent.assignedSlot) {\n    // If the parent is distributed in a <slot>, return the parent of a slot.\n    return parent.assignedSlot.parentNode;\n  }\n\n  return parent;\n}\n\n\n/**\n * Returns the embedding frame element, if any.\n * @param {!Document} doc\n * @return {!Element}\n */\nfunction getFrameElement(doc) {\n  try {\n    return doc.defaultView && doc.defaultView.frameElement || null;\n  } catch (e) {\n    // Ignore the error.\n    return null;\n  }\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.scrollama = factory());\n}(this, (function () { 'use strict';\n\n// DOM helper functions\n\n// public\nfunction selectAll(selector, parent) {\n  if ( parent === void 0 ) parent = document;\n\n  if (typeof selector === 'string') {\n    return Array.from(parent.querySelectorAll(selector));\n  } else if (selector instanceof Element) {\n    return [selector];\n  } else if (selector instanceof NodeList) {\n    return Array.from(selector);\n  } else if (selector instanceof Array) {\n    return selector;\n  }\n  return [];\n}\n\nfunction getOffsetId(id) {\n  return (\"scrollama__debug-offset--\" + id);\n}\n\n// SETUP\nfunction setupOffset(ref) {\n  var id = ref.id;\n  var offsetVal = ref.offsetVal;\n  var stepClass = ref.stepClass;\n\n  var el = document.createElement(\"div\");\n  el.id = getOffsetId(id);\n  el.className = \"scrollama__debug-offset\";\n  el.style.position = \"fixed\";\n  el.style.left = \"0\";\n  el.style.width = \"100%\";\n  el.style.height = \"0\";\n  el.style.borderTop = \"2px dashed black\";\n  el.style.zIndex = \"9999\";\n\n  var p = document.createElement(\"p\");\n  p.innerHTML = \"\\\".\" + stepClass + \"\\\" trigger: <span>\" + offsetVal + \"</span>\";\n  p.style.fontSize = \"12px\";\n  p.style.fontFamily = \"monospace\";\n  p.style.color = \"black\";\n  p.style.margin = \"0\";\n  p.style.padding = \"6px\";\n  el.appendChild(p);\n  document.body.appendChild(el);\n}\n\nfunction setup(ref) {\n  var id = ref.id;\n  var offsetVal = ref.offsetVal;\n  var stepEl = ref.stepEl;\n\n  var stepClass = stepEl[0].className;\n  setupOffset({ id: id, offsetVal: offsetVal, stepClass: stepClass });\n}\n\n// UPDATE\nfunction update(ref) {\n  var id = ref.id;\n  var offsetMargin = ref.offsetMargin;\n  var offsetVal = ref.offsetVal;\n  var format = ref.format;\n\n  var post = format === \"pixels\" ? \"px\" : \"\";\n  var idVal = getOffsetId(id);\n  var el = document.getElementById(idVal);\n  el.style.top = offsetMargin + \"px\";\n  el.querySelector(\"span\").innerText = \"\" + offsetVal + post;\n}\n\nfunction notifyStep(ref) {\n  var id = ref.id;\n  var index = ref.index;\n  var state = ref.state;\n\n  var prefix = \"scrollama__debug-step--\" + id + \"-\" + index;\n  var elA = document.getElementById((prefix + \"_above\"));\n  var elB = document.getElementById((prefix + \"_below\"));\n  var display = state === \"enter\" ? \"block\" : \"none\";\n\n  if (elA) { elA.style.display = display; }\n  if (elB) { elB.style.display = display; }\n}\n\nfunction scrollama() {\n  var OBSERVER_NAMES = [\n    \"stepAbove\",\n    \"stepBelow\",\n    \"stepProgress\",\n    \"viewportAbove\",\n    \"viewportBelow\"\n  ];\n\n  var cb = {};\n  var io = {};\n\n  var id = null;\n  var stepEl = [];\n  var stepOffsetHeight = [];\n  var stepOffsetTop = [];\n  var stepStates = [];\n\n  var offsetVal = 0;\n  var offsetMargin = 0;\n  var viewH = 0;\n  var pageH = 0;\n  var previousYOffset = 0;\n  var progressThreshold = 0;\n\n  var isReady = false;\n  var isEnabled = false;\n  var isDebug = false;\n\n  var progressMode = false;\n  var preserveOrder = false;\n  var triggerOnce = false;\n\n  var direction = \"down\";\n  var format = \"percent\";\n\n  var exclude = [];\n\n  /* HELPERS */\n  function err(msg) {\n    console.error((\"scrollama error: \" + msg));\n  }\n\n  function reset() {\n    cb = {\n      stepEnter: function () {},\n      stepExit: function () {},\n      stepProgress: function () {}\n    };\n    io = {};\n  }\n\n  function generateInstanceID() {\n    var a = \"abcdefghijklmnopqrstuv\";\n    var l = a.length;\n    var t = Date.now();\n    var r = [0, 0, 0].map(function (d) { return a[Math.floor(Math.random() * l)]; }).join(\"\");\n    return (\"\" + r + t);\n  }\n\n  function getOffsetTop(el) {\n    var ref = el.getBoundingClientRect();\n    var top = ref.top;\n    var scrollTop = window.pageYOffset;\n    var clientTop = document.body.clientTop || 0;\n    return top + scrollTop - clientTop;\n  }\n\n  function getPageHeight() {\n    var body = document.body;\n    var html = document.documentElement;\n\n    return Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n  }\n\n  function getIndex(element) {\n    return +element.getAttribute(\"data-scrollama-index\");\n  }\n\n  function updateDirection() {\n    if (window.pageYOffset > previousYOffset) { direction = \"down\"; }\n    else if (window.pageYOffset < previousYOffset) { direction = \"up\"; }\n    previousYOffset = window.pageYOffset;\n  }\n\n  function disconnectObserver(name) {\n    if (io[name]) { io[name].forEach(function (d) { return d.disconnect(); }); }\n  }\n\n  function handleResize() {\n    viewH = window.innerHeight;\n    pageH = getPageHeight();\n\n    var mult = format === \"pixels\" ? 1 : viewH;\n    offsetMargin = offsetVal * mult;\n\n    if (isReady) {\n      stepOffsetHeight = stepEl.map(function (el) { return el.getBoundingClientRect().height; });\n      stepOffsetTop = stepEl.map(getOffsetTop);\n      if (isEnabled) { updateIO(); }\n    }\n\n    if (isDebug) { update({ id: id, offsetMargin: offsetMargin, offsetVal: offsetVal, format: format }); }\n  }\n\n  function handleEnable(enable) {\n    if (enable && !isEnabled) {\n      // enable a disabled scroller\n      if (isReady) {\n        // enable a ready scroller\n        updateIO();\n      } else {\n        // can't enable an unready scroller\n        err(\"scrollama error: enable() called before scroller was ready\");\n        isEnabled = false;\n        return; // all is not well, don't set the requested state\n      }\n    }\n    if (!enable && isEnabled) {\n      // disable an enabled scroller\n      OBSERVER_NAMES.forEach(disconnectObserver);\n    }\n    isEnabled = enable; // all is well, set requested state\n  }\n\n  function createThreshold(height) {\n    var count = Math.ceil(height / progressThreshold);\n    var t = [];\n    var ratio = 1 / count;\n    for (var i = 0; i < count; i += 1) {\n      t.push(i * ratio);\n    }\n    return t;\n  }\n\n  /* NOTIFY CALLBACKS */\n  function notifyStepProgress(element, progress) {\n    var index = getIndex(element);\n    if (progress !== undefined) { stepStates[index].progress = progress; }\n    var resp = { element: element, index: index, progress: stepStates[index].progress };\n\n    if (stepStates[index].state === \"enter\") { cb.stepProgress(resp); }\n  }\n\n  function notifyOthers(index, location) {\n    if (location === \"above\") {\n      // check if steps above/below were skipped and should be notified first\n      for (var i = 0; i < index; i += 1) {\n        var ss = stepStates[i];\n        if (ss.state !== \"enter\" && ss.direction !== \"down\") {\n          notifyStepEnter(stepEl[i], \"down\", false);\n          notifyStepExit(stepEl[i], \"down\");\n        } else if (ss.state === \"enter\") { notifyStepExit(stepEl[i], \"down\"); }\n        // else if (ss.direction === 'up') {\n        //   notifyStepEnter(stepEl[i], 'down', false);\n        //   notifyStepExit(stepEl[i], 'down');\n        // }\n      }\n    } else if (location === \"below\") {\n      for (var i$1 = stepStates.length - 1; i$1 > index; i$1 -= 1) {\n        var ss$1 = stepStates[i$1];\n        if (ss$1.state === \"enter\") {\n          notifyStepExit(stepEl[i$1], \"up\");\n        }\n        if (ss$1.direction === \"down\") {\n          notifyStepEnter(stepEl[i$1], \"up\", false);\n          notifyStepExit(stepEl[i$1], \"up\");\n        }\n      }\n    }\n  }\n\n  function notifyStepEnter(element, dir, check) {\n    if ( check === void 0 ) check = true;\n\n    var index = getIndex(element);\n    var resp = { element: element, index: index, direction: dir };\n\n    // store most recent trigger\n    stepStates[index].direction = dir;\n    stepStates[index].state = \"enter\";\n    if (preserveOrder && check && dir === \"down\") { notifyOthers(index, \"above\"); }\n\n    if (preserveOrder && check && dir === \"up\") { notifyOthers(index, \"below\"); }\n\n    if (cb.stepEnter && !exclude[index]) {\n      cb.stepEnter(resp, stepStates);\n      if (isDebug) { notifyStep({ id: id, index: index, state: \"enter\" }); }\n      if (triggerOnce) { exclude[index] = true; }\n    }\n\n    if (progressMode) { notifyStepProgress(element); }\n  }\n\n  function notifyStepExit(element, dir) {\n    var index = getIndex(element);\n    var resp = { element: element, index: index, direction: dir };\n\n    if (progressMode) {\n      if (dir === \"down\" && stepStates[index].progress < 1)\n        { notifyStepProgress(element, 1); }\n      else if (dir === \"up\" && stepStates[index].progress > 0)\n        { notifyStepProgress(element, 0); }\n    }\n\n    // store most recent trigger\n    stepStates[index].direction = dir;\n    stepStates[index].state = \"exit\";\n\n    cb.stepExit(resp, stepStates);\n    if (isDebug) { notifyStep({ id: id, index: index, state: \"exit\" }); }\n  }\n\n  /* OBSERVER - INTERSECT HANDLING */\n  // this is good for entering while scrolling down + leaving while scrolling up\n  function intersectStepAbove(ref) {\n    var entry = ref[0];\n\n    updateDirection();\n    var isIntersecting = entry.isIntersecting;\n    var boundingClientRect = entry.boundingClientRect;\n    var target = entry.target;\n\n    // bottom = bottom edge of element from top of viewport\n    // bottomAdjusted = bottom edge of element from trigger\n    var top = boundingClientRect.top;\n    var bottom = boundingClientRect.bottom;\n    var topAdjusted = top - offsetMargin;\n    var bottomAdjusted = bottom - offsetMargin;\n    var index = getIndex(target);\n    var ss = stepStates[index];\n\n    // entering above is only when topAdjusted is negative\n    // and bottomAdjusted is positive\n    if (\n      isIntersecting &&\n      topAdjusted <= 0 &&\n      bottomAdjusted >= 0 &&\n      direction === \"down\" &&\n      ss.state !== \"enter\"\n    )\n      { notifyStepEnter(target, direction); }\n\n    // exiting from above is when topAdjusted is positive and not intersecting\n    if (\n      !isIntersecting &&\n      topAdjusted > 0 &&\n      direction === \"up\" &&\n      ss.state === \"enter\"\n    )\n      { notifyStepExit(target, direction); }\n  }\n\n  // this is good for entering while scrolling up + leaving while scrolling down\n  function intersectStepBelow(ref) {\n    var entry = ref[0];\n\n    updateDirection();\n    var isIntersecting = entry.isIntersecting;\n    var boundingClientRect = entry.boundingClientRect;\n    var target = entry.target;\n\n    // bottom = bottom edge of element from top of viewport\n    // bottomAdjusted = bottom edge of element from trigger\n    var top = boundingClientRect.top;\n    var bottom = boundingClientRect.bottom;\n    var topAdjusted = top - offsetMargin;\n    var bottomAdjusted = bottom - offsetMargin;\n    var index = getIndex(target);\n    var ss = stepStates[index];\n\n    // entering below is only when bottomAdjusted is positive\n    // and topAdjusted is negative\n    if (\n      isIntersecting &&\n      topAdjusted <= 0 &&\n      bottomAdjusted >= 0 &&\n      direction === \"up\" &&\n      ss.state !== \"enter\"\n    )\n      { notifyStepEnter(target, direction); }\n\n    // exiting from above is when bottomAdjusted is negative and not intersecting\n    if (\n      !isIntersecting &&\n      bottomAdjusted < 0 &&\n      direction === \"down\" &&\n      ss.state === \"enter\"\n    )\n      { notifyStepExit(target, direction); }\n  }\n\n  /*\n\tif there is a scroll event where a step never intersects (therefore\n\tskipping an enter/exit trigger), use this fallback to detect if it is\n\tin view\n\t*/\n  function intersectViewportAbove(ref) {\n    var entry = ref[0];\n\n    updateDirection();\n    var isIntersecting = entry.isIntersecting;\n    var target = entry.target;\n    var index = getIndex(target);\n    var ss = stepStates[index];\n\n    if (\n      isIntersecting &&\n      direction === \"down\" &&\n      ss.direction !== \"down\" &&\n      ss.state !== \"enter\"\n    ) {\n      notifyStepEnter(target, \"down\");\n      notifyStepExit(target, \"down\");\n    }\n  }\n\n  function intersectViewportBelow(ref) {\n    var entry = ref[0];\n\n    updateDirection();\n    var isIntersecting = entry.isIntersecting;\n    var target = entry.target;\n    var index = getIndex(target);\n    var ss = stepStates[index];\n    if (\n      isIntersecting &&\n      direction === \"up\" &&\n      ss.direction === \"down\" &&\n      ss.state !== \"enter\"\n    ) {\n      notifyStepEnter(target, \"up\");\n      notifyStepExit(target, \"up\");\n    }\n  }\n\n  function intersectStepProgress(ref) {\n    var entry = ref[0];\n\n    updateDirection();\n    var isIntersecting = entry.isIntersecting;\n    var intersectionRatio = entry.intersectionRatio;\n    var boundingClientRect = entry.boundingClientRect;\n    var target = entry.target;\n    var bottom = boundingClientRect.bottom;\n    var bottomAdjusted = bottom - offsetMargin;\n    if (isIntersecting && bottomAdjusted >= 0) {\n      notifyStepProgress(target, +intersectionRatio);\n    }\n  }\n\n  /*  OBSERVER - CREATION */\n  // jump into viewport\n  function updateViewportAboveIO() {\n    io.viewportAbove = stepEl.map(function (el, i) {\n      var marginTop = pageH - stepOffsetTop[i];\n      var marginBottom = offsetMargin - viewH - stepOffsetHeight[i];\n      var rootMargin = marginTop + \"px 0px \" + marginBottom + \"px 0px\";\n      var options = { rootMargin: rootMargin };\n      // console.log(options);\n      var obs = new IntersectionObserver(intersectViewportAbove, options);\n      obs.observe(el);\n      return obs;\n    });\n  }\n\n  function updateViewportBelowIO() {\n    io.viewportBelow = stepEl.map(function (el, i) {\n      var marginTop = -offsetMargin - stepOffsetHeight[i];\n      var marginBottom = offsetMargin - viewH + stepOffsetHeight[i] + pageH;\n      var rootMargin = marginTop + \"px 0px \" + marginBottom + \"px 0px\";\n      var options = { rootMargin: rootMargin };\n      // console.log(options);\n      var obs = new IntersectionObserver(intersectViewportBelow, options);\n      obs.observe(el);\n      return obs;\n    });\n  }\n\n  // look above for intersection\n  function updateStepAboveIO() {\n    io.stepAbove = stepEl.map(function (el, i) {\n      var marginTop = -offsetMargin + stepOffsetHeight[i];\n      var marginBottom = offsetMargin - viewH;\n      var rootMargin = marginTop + \"px 0px \" + marginBottom + \"px 0px\";\n      var options = { rootMargin: rootMargin };\n      // console.log(options);\n      var obs = new IntersectionObserver(intersectStepAbove, options);\n      obs.observe(el);\n      return obs;\n    });\n  }\n\n  // look below for intersection\n  function updateStepBelowIO() {\n    io.stepBelow = stepEl.map(function (el, i) {\n      var marginTop = -offsetMargin;\n      var marginBottom = offsetMargin - viewH + stepOffsetHeight[i];\n      var rootMargin = marginTop + \"px 0px \" + marginBottom + \"px 0px\";\n      var options = { rootMargin: rootMargin };\n      // console.log(options);\n      var obs = new IntersectionObserver(intersectStepBelow, options);\n      obs.observe(el);\n      return obs;\n    });\n  }\n\n  // progress progress tracker\n  function updateStepProgressIO() {\n    io.stepProgress = stepEl.map(function (el, i) {\n      var marginTop = stepOffsetHeight[i] - offsetMargin;\n      var marginBottom = -viewH + offsetMargin;\n      var rootMargin = marginTop + \"px 0px \" + marginBottom + \"px 0px\";\n      var threshold = createThreshold(stepOffsetHeight[i]);\n      var options = { rootMargin: rootMargin, threshold: threshold };\n      // console.log(options);\n      var obs = new IntersectionObserver(intersectStepProgress, options);\n      obs.observe(el);\n      return obs;\n    });\n  }\n\n  function updateIO() {\n    OBSERVER_NAMES.forEach(disconnectObserver);\n\n    updateViewportAboveIO();\n    updateViewportBelowIO();\n    updateStepAboveIO();\n    updateStepBelowIO();\n\n    if (progressMode) { updateStepProgressIO(); }\n  }\n\n  /* SETUP FUNCTIONS */\n\n  function indexSteps() {\n    stepEl.forEach(function (el, i) { return el.setAttribute(\"data-scrollama-index\", i); });\n  }\n\n  function setupStates() {\n    stepStates = stepEl.map(function () { return ({\n      direction: null,\n      state: null,\n      progress: 0\n    }); });\n  }\n\n  function addDebug() {\n    if (isDebug) { setup({ id: id, stepEl: stepEl, offsetVal: offsetVal }); }\n  }\n\n  function isYScrollable(element) {\n    var style = window.getComputedStyle(element);\n    return (\n      (style.overflowY === \"scroll\" || style.overflowY === \"auto\") &&\n      element.scrollHeight > element.clientHeight\n    );\n  }\n\n  // recursively search the DOM for a parent container with overflowY: scroll and fixed height\n  // ends at document\n  function anyScrollableParent(element) {\n    if (element && element.nodeType === 1) {\n      // check dom elements only, stop at document\n      // if a scrollable element is found return the element\n      // if not continue to next parent\n      return isYScrollable(element)\n        ? element\n        : anyScrollableParent(element.parentNode);\n    }\n    return false; // didn't find a scrollable parent\n  }\n\n  var S = {};\n\n  S.setup = function (ref) {\n    var step = ref.step;\n    var offset = ref.offset; if ( offset === void 0 ) offset = 0.5;\n    var progress = ref.progress; if ( progress === void 0 ) progress = false;\n    var threshold = ref.threshold; if ( threshold === void 0 ) threshold = 4;\n    var debug = ref.debug; if ( debug === void 0 ) debug = false;\n    var order = ref.order; if ( order === void 0 ) order = true;\n    var once = ref.once; if ( once === void 0 ) once = false;\n\n    reset();\n    // create id unique to this scrollama instance\n    id = generateInstanceID();\n\n    stepEl = selectAll(step);\n\n    if (!stepEl.length) {\n      err(\"no step elements\");\n      return S;\n    }\n\n    // ensure that no step has a scrollable parent element in the dom tree\n    // check current step for scrollable parent\n    // assume no scrollable parents to start\n    var scrollableParent = stepEl.reduce(\n      function (foundScrollable, s) { return foundScrollable || anyScrollableParent(s.parentNode); },\n      false\n    );\n    if (scrollableParent) {\n      console.error(\n        \"scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.\",\n        scrollableParent\n      );\n    }\n\n    // options\n    isDebug = debug;\n    progressMode = progress;\n    preserveOrder = order;\n    triggerOnce = once;\n\n    S.offsetTrigger(offset);\n    progressThreshold = Math.max(1, +threshold);\n\n    isReady = true;\n\n    // customize\n    addDebug();\n    indexSteps();\n    setupStates();\n    handleResize();\n    S.enable();\n    return S;\n  };\n\n  S.resize = function () {\n    handleResize();\n    return S;\n  };\n\n  S.enable = function () {\n    handleEnable(true);\n    return S;\n  };\n\n  S.disable = function () {\n    handleEnable(false);\n    return S;\n  };\n\n  S.destroy = function () {\n    handleEnable(false);\n    reset();\n  };\n\n  S.offsetTrigger = function (x) {\n    if (x === null) { return offsetVal; }\n\n    if (typeof x === \"number\") {\n      format = \"percent\";\n      if (x > 1) { err(\"offset value is greater than 1. Fallback to 1.\"); }\n      if (x < 0) { err(\"offset value is lower than 0. Fallback to 0.\"); }\n      offsetVal = Math.min(Math.max(0, x), 1);\n    } else if (typeof x === \"string\" && x.indexOf(\"px\") > 0) {\n      var v = +x.replace(\"px\", \"\");\n      if (!isNaN(v)) {\n        format = \"pixels\";\n        offsetVal = v;\n      } else {\n        err(\"offset value must be in 'px' format. Fallback to 0.5.\");\n        offsetVal = 0.5;\n      }\n    } else {\n      err(\"offset value does not include 'px'. Fallback to 0.5.\");\n      offsetVal = 0.5;\n    }\n    return S;\n  };\n\n  S.onStepEnter = function (f) {\n    if (typeof f === \"function\") { cb.stepEnter = f; }\n    else { err(\"onStepEnter requires a function\"); }\n    return S;\n  };\n\n  S.onStepExit = function (f) {\n    if (typeof f === \"function\") { cb.stepExit = f; }\n    else { err(\"onStepExit requires a function\"); }\n    return S;\n  };\n\n  S.onStepProgress = function (f) {\n    if (typeof f === \"function\") { cb.stepProgress = f; }\n    else { err(\"onStepProgress requires a function\"); }\n    return S;\n  };\n\n  return S;\n}\n\nreturn scrollama;\n\n})));\n","import { config } from './config';\nimport \"intersection-observer\";\nimport scrollama from \"scrollama\";\n\nvar layerTypes = {\n    'fill': ['fill-opacity'],\n    'line': ['line-opacity'],\n    'circle': ['circle-opacity', 'circle-stroke-opacity'],\n    'symbol': ['icon-opacity', 'text-opacity'],\n    'raster': ['raster-opacity'],\n    'fill-extrusion': ['fill-extrusion-opacity'],\n    'heatmap': ['heatmap-opacity']\n}\n\nvar alignments = {\n    'left': 'lefty',\n    'center': 'centered',\n    'right': 'righty',\n    'full': 'fully'\n}\n\nexport default function () {\n    function getLayerPaintType(layer) {\n        var layerType = map.getLayer(layer).type;\n        return layerTypes[layerType];\n    }\n\n    function setLayerOpacity(layer) {\n        var paintProps = getLayerPaintType(layer.layer);\n        paintProps.forEach(function (prop) {\n            var options = {};\n            if (layer.duration) {\n                var transitionProp = prop + \"-transition\";\n                options = {\n                    \"duration\": layer.duration\n                };\n                map.setPaintProperty(layer.layer, transitionProp, options);\n            }\n            map.setPaintProperty(layer.layer, prop, layer.opacity, options);\n        });\n    }\n\n    var story = document.getElementById('story');\n    var features = document.createElement('div');\n    features.setAttribute('id', 'features');\n\n    var header = document.createElement('div');\n\n    if (config.title) {\n        var titleText = document.createElement('h1');\n        titleText.innerText = config.title;\n        header.appendChild(titleText);\n    }\n\n    if (config.subtitle) {\n        var subtitleText = document.createElement('h2');\n        subtitleText.innerText = config.subtitle;\n        header.appendChild(subtitleText);\n    }\n\n    if (header.innerText.length > 0) {\n        header.classList.add(config.theme);\n        header.setAttribute('id', 'header');\n        story.appendChild(header);\n    }\n\n    config.chapters.forEach((record, idx) => {\n        var container = document.createElement('div');\n        var chapter = document.createElement('div');\n\n        if (record.title) {\n            var title = document.createElement('h3');\n            title.innerText = record.title;\n            chapter.appendChild(title);\n        }\n\n        if (record.image) {\n            var image = new Image();\n            image.src = record.image;\n            chapter.appendChild(image);\n        }\n\n        if (record.description) {\n            var story = document.createElement('p');\n            story.innerHTML = record.description;\n            chapter.appendChild(story);\n        }\n\n        container.setAttribute('id', record.id);\n        container.classList.add('step');\n        if (idx === 0) {\n            container.classList.add('active');\n        }\n\n        chapter.classList.add(config.theme);\n        container.appendChild(chapter);\n        container.classList.add(alignments[record.alignment] || 'centered');\n        if (record.hidden) {\n            container.classList.add('hidden');\n        }\n        features.appendChild(container);\n    });\n\n    story.appendChild(features);\n\n    var footer = document.createElement('div');\n\n    if (config.footer) {\n        var footerText = document.createElement('p');\n        footerText.innerHTML = config.footer;\n        footer.appendChild(footerText);\n    }\n\n    if (footer.innerText.length > 0) {\n        footer.classList.add(config.theme);\n        footer.setAttribute('id', 'footer');\n        story.appendChild(footer);\n    }\n\n    mapboxgl.accessToken = config.accessToken;\n\n    const transformRequest = (url) => {\n        const hasQuery = url.indexOf(\"?\") !== -1;\n        const suffix = hasQuery ? \"&pluginName=scrollytellingV2\" : \"?pluginName=scrollytellingV2\";\n        return {\n            url: url + suffix\n        }\n    }\n\n    var map = new mapboxgl.Map({\n        container: 'map',\n        style: config.style,\n        center: config.chapters[0].location.center,\n        zoom: config.chapters[0].location.zoom,\n        bearing: config.chapters[0].location.bearing,\n        pitch: config.chapters[0].location.pitch,\n        interactive: false,\n        transformRequest: transformRequest\n    });\n\n    if (config.showMarkers) {\n        var marker = new mapboxgl.Marker({\n            color: config.markerColor\n        });\n        marker.setLngLat(config.chapters[0].location.center).addTo(map);\n    }\n\n    // instantiate the scrollama\n    var scroller = scrollama();\n\n    //the markers on the map\n    var places = {\n        'type': 'FeatureCollection',\n        'features': [{\n            'type': 'Feature',\n            'properties': {\n                'description': 'Sylvia\\'s Restaurant of Harlem',\n            },\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [-73.94447900208048, 40.80865259993899]\n            }\n        },\n        {\n            'type': 'Feature',\n            'properties': {\n                'description': 'Amy Ruth’s',\n            },\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [-73.95021425760106, 40.80270006369895],\n            }\n        },\n        {\n            'type': 'Feature',\n            'properties': {\n                'description': 'Melba’s',\n            },\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [-73.95658658643693, 40.803272405026455],\n            }\n        },\n        {\n            'type': 'Feature',\n            'properties': {\n                'description': 'Red Rooster',\n            },\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [-73.94463548458589, 40.808285654806056],\n            }\n        },\n        {\n            'type': 'Feature',\n            'properties': {\n                'description': 'The World Famous Cotton Club',\n            },\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [-73.9602977272153, 40.81780651171123],\n            }\n        },\n        {\n            'type': 'Feature',\n            'properties': {\n                'description': 'Seasoned Vegan',\n            },\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [-73.95275073061616, 40.80080104628655],\n            }\n        },\n        {\n            'type': 'Feature',\n            'properties': {\n                'description': 'Tsion Cafe',\n            },\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [-73.94344591712296, 40.82640216381314],\n            }\n        },\n        {\n            'type': 'Feature',\n            'properties': {\n                'description': 'Archer & Goat',\n            },\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [-73.94834750178023, 40.80459943429945],\n            }\n        },\n        {\n            'type': 'Feature',\n            'properties': {\n                'description': 'Little Senegal',\n            },\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [-73.95426384225763, 40.80434171197095],\n            }\n        },\n        {\n            'type': 'Feature',\n            'properties': {\n                'description': 'Schomburg Center for Research in Black Culture',\n            },\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [-73.94059340786883, 40.81475769680448],\n            }\n        },\n        ]\n    };\n\n    map.on(\"load\", function () {\n        if (config.use3dTerrain) {\n            map.addSource('mapbox-dem', {\n                'type': 'raster-dem',\n                'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\n                'tileSize': 512,\n                'maxzoom': 14\n            });\n            // add the DEM source as a terrain layer with exaggerated height\n            map.setTerrain({\n                'source': 'mapbox-dem',\n                'exaggeration': 1.5\n            });\n\n            // add a sky layer that will show when the map is highly pitched\n            map.addLayer({\n                'id': 'sky',\n                'type': 'sky',\n                'paint': {\n                    'sky-type': 'atmosphere',\n                    'sky-atmosphere-sun': [0.0, 0.0],\n                    'sky-atmosphere-sun-intensity': 15\n                }\n            });\n\n            map.addSource('places', {\n                'type': 'geojson',\n                'data': places\n            });\n\n            map.addLayer({\n                'id': 'poi-labels',\n                'type': 'symbol',\n                'source': 'places',\n                \"paint\": {\n                    \"text-color\": \"#FFFFFF\"\n                },\n                'layout': {\n                    'text-field': ['get', 'description'],\n                    'text-variable-anchor': ['top', 'bottom', 'left', 'right'],\n                    'text-radial-offset': 0.5,\n                    'text-justify': 'auto',\n                    'icon-image': ['concat', ['get', 'icon'], '-15'],\n                }\n            });\n\n            // Insert the layer beneath any symbol layer.\n            var layers = map.getStyle().layers;\n\n            var labelLayerId;\n            for (var i = 0; i < layers.length; i++) {\n                if (layers[i].type === 'symbol' && layers[i].layout['text-field']) {\n                    labelLayerId = layers[i].id;\n                    break;\n                }\n            }\n\n            map.addLayer({\n                'id': '3d-buildings',\n                'source': 'composite',\n                'source-layer': 'building',\n                'filter': ['==', 'extrude', 'true'],\n                'type': 'fill-extrusion',\n                'minzoom': 18,\n                'paint': {\n                    'fill-extrusion-color': '#aaa',\n\n                    // use an 'interpolate' expression to add a smooth transition effect to the\n                    // buildings as the user zooms in\n                    'fill-extrusion-height': [\n                        'interpolate',\n                        ['linear'],\n                        ['zoom'],\n                        15,\n                        0,\n                        15.05,\n                        ['get', 'height']\n                    ],\n                    'fill-extrusion-base': [\n                        'interpolate',\n                        ['linear'],\n                        ['zoom'],\n                        15,\n                        0,\n                        15.05,\n                        ['get', 'min_height']\n                    ],\n                    'fill-extrusion-opacity': 0.6\n                }\n            },\n                labelLayerId\n            );\n        };\n\n        // setup the instance, pass callback functions\n        scroller\n            .setup({\n                step: '.step',\n                offset: 0.5,\n                progress: true\n            })\n            .onStepEnter(response => {\n                var chapter = config.chapters.find(chap => chap.id === response.element.id);\n                response.element.classList.add('active');\n                map[chapter.mapAnimation || 'flyTo'](chapter.location);\n                if (config.showMarkers) {\n                    marker.setLngLat(chapter.location.center);\n                }\n                if (chapter.onChapterEnter.length > 0) {\n                    chapter.onChapterEnter.forEach(setLayerOpacity);\n                }\n                if (chapter.callback) {\n                    window[chapter.callback]();\n                }\n                if (chapter.rotateAnimation) {\n                    map.once('moveend', function () {\n                        const rotateNumber = map.getBearing();\n                        map.rotateTo(rotateNumber + 90, {\n                            duration: 24000,\n                            easing: function (t) {\n                                return t;\n                            }\n                        });\n                    });\n                }\n            })\n            .onStepExit(response => {\n                var chapter = config.chapters.find(chap => chap.id === response.element.id);\n                response.element.classList.remove('active');\n                if (chapter.onChapterExit.length > 0) {\n                    chapter.onChapterExit.forEach(setLayerOpacity);\n                }\n            });\n    });\n\n    // setup resize event\n    window.addEventListener('resize', scroller.resize);\n}","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","import { spectate as spectateConfig } from '../../package.json';\nimport initMap from './map';\n/**\n * Put all initializer scripts into this init() function\n */\n\nfunction init() {\n  initMap();\n  // If an artboard is on the page, load the ai2html resizer\n  if (document.querySelector('.g-artboard[data-min-width]')) {\n    import('./ai2html-resizer').then(p => p.default());\n  }\n}\n\n/**\n * Do article hoisting: eeplace the section#main node with the article content.\n * Explanation at https://github.com/graphicsdesk/spectate/wiki/API-Documentation#article-hoisting\n */\n\n/* These are selectors for important elements */\n\n// SECTION_MAIN_SELECTOR is the node on the page we want to replace\nconst SECTION_MAIN_SELECTOR = 'section#main';\n\n// ARTICLE_SELECTOR is where Arc Publishing puts the actual article content\nconst ARTICLE_SELECTOR =\n  '.pb-f-article-article-body > .row > .col-xs-12 > .ab-article-body > .ab-article-content > article';\n\n// The comment section is accidentally destroyed in the hoisting process, so\n// we want to store it away and add it back later\nconst COMMENTS_SELECTOR = '.pb-f-article-disqus-new';\n\nfunction hoistArticle() {\n  // Store nodes of interest\n  const sectionMain = document.querySelector(SECTION_MAIN_SELECTOR);\n  const article = document.querySelector(ARTICLE_SELECTOR);\n  const comments = document.querySelector(COMMENTS_SELECTOR);\n\n  // Replace section#main with article\n  sectionMain.parentNode.replaceChild(article, sectionMain);\n\n  // Append comment section after article\n  article.parentNode.insertBefore(comments, article.nextSibling);\n\n  // Arc server-side-renders elements like links and meta tags in Spectate's index.html <head>\n  // into a paragraph, which takes up unwanted space thanks to Arc's CSS. Let's remove it.\n  const suspectParagraph = article.firstElementChild;\n  if (\n    [...suspectParagraph.children].some(el =>\n      ['META', 'LINK'].includes(el.tagName),\n    )\n  ) {\n    suspectParagraph.style.margin = 0;\n  }\n\n  init();\n}\n\n// Runs hoistArticle() and stops RAF when necessary elements exist.\n// Stops after 5 seconds of trying.\nconst TRY_TIME = 5000;\nlet start = null;\nfunction prepareHoist(timestamp) {\n  if (document.body && document.querySelector(SECTION_MAIN_SELECTOR)) {\n    hoistArticle();\n    return;\n  }\n  if (timestamp - (start || (start = timestamp)) < TRY_TIME) {\n    // If the body element isn't found, run ready() again at the next frame\n    window.requestAnimationFrame(prepareHoist);\n  } else {\n    // After 5 seconds, stop requesting frames and just use window.onload\n    console.log(\n      'Gave up replacing %s with article after %dms. Using window.onload.',\n      SECTION_MAIN_SELECTOR,\n      TRY_TIME,\n    );\n    window.onload = hoistArticle;\n  }\n}\n\nconst isOnSpectatorPage = window.location.host === 'www.columbiaspectator.com';\nconst isOnContributorPage =\n  window.location.pathname.indexOf('/contributors') === 0;\n\nexport default function () {\n  // If IntersectionObserver and IntersectionObserverEntry are not natively\n  // supported, load the polyfill.\n  if (\n    !('IntersectionObserver' in window) ||\n    !('IntersectionObserverEntry' in window) ||\n    !('isIntersecting' in window.IntersectionObserverEntry.prototype)\n  ) {\n    import('intersection-observer').then();\n  }\n\n  // Replace main page section with this project if we are on a Spectator story\n  // page and the project is not an embed\n  if (isOnSpectatorPage && !isOnContributorPage && !spectateConfig.IS_EMBED) {\n    window.requestAnimationFrame(prepareHoist);\n  } else {\n    init();\n  }\n}\n\n/**\n * Disable stylesheets on contributor page. Stylesheets are included in the\n * server-side render and styles in files like news-ellipsis.scss\n * still override the site.\n */\n\nif (isOnSpectatorPage && isOnContributorPage) {\n  // Disable stylesheets\n  document\n    .querySelectorAll('.story-summary > .twolines > link')\n    .forEach(link => (link.disabled = true));\n\n  // Add styles to hide content preview\n  const styleSheet = document.createElement('style');\n  styleSheet.type = 'text/css';\n  styleSheet.innerText = '.story-summary > .twolines { display: none; }';\n  document.head.appendChild(styleSheet);\n}\n","export function intersectTop({ node, onEnter, onExit }) {\n  const observer = new IntersectionObserver(\n    ([entry]) => {\n      const {\n        isIntersecting,\n        boundingClientRect: { top },\n      } = entry;\n      if (!isIntersecting && top < 0) {\n        // Enter at the top\n        onEnter();\n      } else if (isIntersecting && top < window.innerHeight / 2) {\n        // Exit from the top\n        onExit();\n      }\n    },\n    { threshold: 1 },\n  );\n  observer.observe(node);\n}\n","import textBalancer from 'text-balancer';\nimport initiatePage from './scripts/page';\nimport { intersectTop } from './scripts/utils';\nimport { spectate as spectateConfig } from '../package.json';\n\n// Main page initiation\n\ninitiatePage();\n\n// Fade in navbar at scroll trigger\n\nconst navbar = document.getElementById('navbar');\n\nconst { USE_NEWS_NAV, USE_EYE_NAV, USE_COVER_HED } = spectateConfig;\nif (USE_NEWS_NAV || USE_EYE_NAV || USE_COVER_HED) {\n  intersectTop({\n    node: document.getElementById('headline'),\n    onEnter: () => {\n      navbar.classList.remove('only-eye-logo');\n      navbar.classList.remove('hide-news-navbar');\n    },\n    onExit: () => {\n      navbar.classList.remove('show-nav-links');\n      navbar.classList.add('only-eye-logo');\n      navbar.classList.add('hide-news-navbar');\n    },\n  });\n}\n\n// Mobile navbar hamburger trigger\n\nexport function hamburgerTrigger() {\n  navbar.classList.toggle('show-nav-links');\n}\n\n// Text balance headline, deck, and image captions\n\nif (window.innerWidth <= 460) {\n  textBalancer.balanceText('#headline, .deck, .image-caption-text');\n}\n","module.exports = function loadJSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n};\n"]}